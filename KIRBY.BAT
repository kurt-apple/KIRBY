@ECHO OFF
ECHO "BEDFELLOW&CO;PRESENTS:A'WTFPL'PRODUCTION: ..."
REM KIRBY 2.0
REM AUTHOR: BEDFELLOW&CO --> kurt-apple 2K17
REM LICENSE: WTFPL
REM FEATURES:
REM - WEB UPDATE
REM - PROGRAM BLOCKER
REM - WEBSITE BLOCKER
REM - COMMAND LINE ARGS
REM CREDITS:
REM - STEVENBLACK VIA GITHUB - CONSOLIDATED HOSTS FILES
REM - TECHNET - HELP WITH CMD AND POWERSHELL COMMANDS
REM - STACKOVERFLOW & POWERUSER - COMMUNITY RESOURCE
REM ANY ENVIRONMENT VARIABLES ARE ONLY APPLICABLE TO THIS PROGRAM INSTANCE
SETLOCAL
SET	PRG="C:\PATH\TO\KIRBY"
SET HOSTS="C:\Windows\System32\drivers\etc\hosts"
REM THE TWO HOSTS FILEPATHS ARE FOUND HERE
REM BEERSOWED++
REM CHECK THE STEVENBLACK's README FOR DETAILS
SET FOCH="%PRG%\HOSTS\EXT\HOSTS_STEVENBLACK_FGPS"
SET RESH="%PRG%\HOSTS\EXT\HOSTS_STEVENBLACK_F"
SET DROP="0.0.0.0"
REM THE SOUND FILE PATHS ARE FOUND HERE
SET "VLCX=D:\Programs\VLC\vlc.exe"
SET "WAVX=D:\PATH\TO\KIRBY\SOUND\your_sound_here.WAV"
REM THE HOSTS FILE URLS ARE AROUND HERE
SET "URLBASE=https://raw.githubusercontent.com/StevenBlack/hosts/master/alternates"
REM THE PROGRAM DIRECTORIES ARE FOUND HERE
SET anyDISTRACTINGPROGRAM="C:\PATH\TO\PROGRAM\EXECUTABLE\PROGRAM.EXE"
REM INIT MENU SEQUENCE
IF /I "%~1"==""		GOTO NO_INPUT
IF /I "%~1"=="-Y"	GOTO FOCUSMODE_ACTIVATE
IF /I "%~1"=="-N"	GOTO FOCUSMODE_DEACTIVATE
:NO_INPUT
ECHO "ENTER WORK MODE? [Y/N]: "
SET INPUTQ=
SET /P INPUTQ= %=%
IF /I "%INPUTQ%"=="Y" GOTO FOCUSMODE_ACTIVATE
IF /I "%INPUTQ%"=="N" GOTO FOCUSMODE_DEACTIVATE
GOTO ERROR
REM BLOCK PROGRAMS AND WEBSITES
:FOCUSMODE_ACTIVATE
ECHO ACTIVATING FOCUS MODE...
REM SOUND FILE, WHY NOT
START "" %VLCX% %WAVX% --qt-start-minimized --play-and-exit --no-loop
REM WEB UPDATE PORTION USING POWERSHELL COMMANDS
SET "URLFOC=%URLBASE%/fakenews-gambling-porn-social/hosts"
POWERSHELL -Command "Invoke-WebRequest %URLFOC% -OutFile %FOCH%"
REM ADDITIONS TO FOCUS HOSTS
ECHO %DROP% shadysite0001.com	>> %FOCH%
ECHO %DROP% shadysite0002.com	>> %FOCH%
ECHO %DROP% shadysite0003.com	>> %FOCH%
ECHO %DROP% shadysite0004.com	>> %FOCH%
ECHO %DROP% shadysite0005.com	>> %FOCH%
ECHO %DROP% shadysite0006.com	>> %FOCH%
ECHO %DROP% shadysite0007.com	>> %FOCH%
ECHO %DROP% shadysite0008.com	>> %FOCH%
ECHO %DROP% shadysite0009.com	>> %FOCH%
REM AS MANY AS YOU WOULD LIKE, THOUGH CHECK STEVENBLACK's
ECHO %DROP% shadysite1234.com	>> %FOCH%
REM PROGRAM BLOCKERS
ICACLS %anyDISTRACTINGPROGRAM%	/DENY %USERNAME%:RX /q
REM BLOCK SITES
COPY /Y /B %FOCH% %HOSTS%
GOTO PROGRAM_FINISH
:FOCUSMODE_DEACTIVATE
REM RESET PROGRAM PERMISSIONS AND HOSTS FILE
ECHO DEACTIVATING FOCUS MODE...
REM SOUND FILE, WHY NOT
START "" %VLCX% %WAVX% --qt-start-minimized --play-and-exit --no-loop
REM WEB UPDATE PORTION USING POWERSHELL COMMANDS
SET "URLRES=%URLBASE%/fakenews/hosts"
POWERSHELL -Command "Invoke-WebRequest %URLRES% -OutFile %RESH%"
REM ADDITIONS TO RESET HOSTS - IE PERMANENT BLOCKS
ECHO %DROP% youhatethissite.com				>> %RESH%
ECHO %DROP% youhatethissitetoo.com			>> %RESH%
REM RESET PERMISSIONS FOR PROGRAM EXECUTABLES
ICACLS %anyDISTRACTINGPROGRAM%		/REMOVE %USERNAME% /q
REM COPY HOSTS FILE TO UNBLOCK ANY BLOCKED SITES
COPY /Y /B %RESH% %HOSTS%
:PROGRAM_FINISH
ECHO UNTIL NEXT TIME
ECHO EXITING...
TIMEOUT 3
REM ERROR HANDLING
:ERROR
ECHO ERROR NO VALID INPUT PARAMETER RECEIVED OR PROCESSED
TIMEOUT 7
